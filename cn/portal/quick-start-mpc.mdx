---
title: "MPC 钱包快速入门"
sidebarTitle: "快速体验"
lang: "zh-hans"
og:description: "学习如何在 Cobo Portal 开发环境中设置和使用 MPC 钱包。"
---

本文将引导您在开发环境中快速体验 MPC 钱包的主要功能。在开发环境中，部分生产环境需要手动完成的配置已由系统默认启用，因此流程更简单、必需步骤更少。如果您已准备好在生产环境中正式使用，请参考[正式使用](/cn/portal/quick-start-guide-mpc)文档。

<Note>Cobo Portal 提供两种类型的 MPC 钱包：[机构钱包](/cn/portal/mpc-wallets/ocw/introduction)和[终端用户钱包](/cn/portal/mpc-wallets/ucw/introduction)。本指南将介绍机构钱包的设置和使用。</Note>

本指南将为您提供在 Cobo Portal 开发环境中设置和使用 MPC 钱包的分步指导，包括：

1. 注册并激活账户
2. 设置 Cobo Guard
3. 邀请成员（可选）
4. 设置交易风控（可选）
5. 添加链（可选）
6. 创建钱包（可选）
7. 开启代币自动归集（可选）
8. 配置 KYA / KYT 扫描工具（可选）
9. 充币（可选）
10. 提币
    - Cobo Portal 网页端
    - WaaS 2.0 API 端

## 前提条件

- [联系我们的销售团队](https://www.cobo.com/zh/book-demo?utm_source=product-manual&utm_medium=product&utm_campaign=pricing-plan-intro&utm_content=enterprise-contact-sales)获取您的账户激活链接。
- 一台用于运行 [Cobo Guard](/cn/guard/introduction) 的 iOS 设备，这是我们专门用于多因素认证（MFA）、操作审批、交易签名和私钥分片管理的应用程序。

## 注册并激活账户

使用我们销售团队提供的激活链接创建您的 Cobo Portal 账户。按邮件中的注册邀请链接完成激活：
1. 设置密码
2. 输入邮箱验证码
3. 加入团队

## 设置 Cobo Guard
登录[开发环境](https://portal.dev.cobo.com/login)的 Cobo Portal，在左下角的弹窗中点击**绑定 Cobo Guard**。按照屏幕上的说明在您的 iOS 设备上安装 Cobo Guard，并将您的账户与 Cobo Guard 关联。

<img src="/cn/images/get-started/cobo-guard.png" className="screenshot_nav_bar" alt="绑定 Cobo Guard"/>

如果提示框被关闭，可点击左侧菜单的**指南**重新打开。

绑定目的：
- 作为 Cobo Portal 的 MFA 认证方式。
- 在 APP 中审批 Cobo Portal 的各类消息。
更多信息请参阅 [Cobo Guard](/cn/guard/introduction#主要功能)。

## 邀请成员（可选）
您可以邀请团队成员并分配权限。每个权限对应的可执行操作详见[成员权限说明](/cn/portal/organization/roles-and-permissions)。

## 设置风控（可选）
配置代币转账的风控规则，包括币种、金额、黑/白名单、审批阈值（m/n 审批）。更多详情请参阅[设置代币转账风控](/cn/portal/risk-controls/off-chain-tx-set-transfer)文档。

## 添加链（可选）

为方便测试，系统已在开发环境为您默认生成 SETH / ETH / BTC / Tron / BNB / SOL / TON 的地址。如需添加其他链，请参考[添加链](/cn/portal/enable-or-disable-chains)文档。

## 创建钱包（可选）

为方便测试，系统已为您默认创建：

- 一个 Vault：`Cobo Demo Vault (Testing Only)`
- 一个钱包：`Cobo Demo Vault (Testing Only)` 中的 `Default MPC wallet`
- 私钥：主控组 2/2，签名组与恢复组在开发环境中暂不配置。
<Note>两片私钥均由 Cobo 默认配置，因此您在开发环境中使用该 MPC 钱包发起交易时，Cobo 会自动完成交易的签名，您无需手动签名。</Note>

如需完整体验 MPC 钱包的创建流程，请参考：
- [MPC 机构钱包介绍](/cn/portal/mpc-wallets/ocw/introduction)
- [创建 MPC Vault](/cn/portal/mpc-wallets/ocw/create-mpc-vault)
- [设置主控组](/cn/portal/mpc-wallets/ocw/holder-group-main-group)
- [设置签名组](/cn/portal/mpc-wallets/ocw/holder-group-signing-group)
- [设置恢复组](/cn/portal/mpc-wallets/ocw/holder-group-recovery-group)
- [主控组 / 签名组 / 恢复组的区别](/cn/portal/mpc-wallets/ocw/holder-group-overview)

## 开启代币自动归集（可选）
如果需要进行 MPC 钱包资金的自动归集，请参考[启用自动代币归集](/cn/portal/auto-sweep-overview)。

## 配置 KYA / KYT 扫描工具（可选）
如果需要对 MPC 钱包进行 KYA / KYT 扫描，请参考[Screening App 简介](/cn/apps/screening/introduction)。

## 充币（可选）

在开发环境中，系统已为您自动分配测试币 SETH。如果需要充值其他币种（例如 USDC 或 USDT），请确认所用链（Tron / BEP-20 / ERC-20 等），并参考[充值](/cn/portal/mpc-wallets/ocw/transfers)文档。

充值主链币：如需支付链上手续费，请确保钱包中有足够对应链的主链币。您可以在 [Fee Station](/cn/portal/fee-station/introduction) 预充值对应链的主链币，或充值美元稳定币用以代付链上手续费。

## 提币

### Cobo Portal 网页端

请参阅[从 MPC 钱包（机构钱包）转账](/cn/portal/transfers/from-mpc-wallets)文档。

### WaaS 2.0 API 端

本章节将介绍如何使用 WaaS 2.0 API 在 MPC 钱包（机构钱包）场景中完成充币、提币及自动归集功能。

1. **生成 API Key 与 API Secret**

您需要在本地生成一对 Ed25519 密钥对，作为 API Key（公钥）和 API Secret（私钥）。更多生成 API Key 密钥对的说明，请参阅[生成 API Key 和 API Secret](https://www.cobo.com/developers/v2_cn/guides/overview/cobo-auth#%E7%94%9F%E6%88%90-api-key-%E5%92%8C-api-secret)。

2. **注册 API Key**

生成 API Key 后，您需要在 Cobo Portal 上注册 API Key，并为其设置用户角色和可访问的钱包范围。更多注册 API Key 的说明，请参阅[注册 API Key](/cn/portal/developer-console/create-api-key)。

3. **接入 WaaS SDK**

在完成 API Key 配置后，您可以接入 WaaS SDK。您可以先调用一个只读接口（如列出支持的链）来测试 SDK 是否配置成功，如果调用成功，说明您的开发环境已准备就绪，可以继续实现提币等功能。详情请参阅以下文档：
- [JavaScript SDK 快速入门](https://www.cobo.com/developers/v2_cn/developer-tools/quickstart-javascript)
- [Python SDK 快速入门](https://www.cobo.com/developers/v2_cn/developer-tools/quickstart-python)
- [Go SDK 快速入门](https://www.cobo.com/developers/v2_cn/developer-tools/quickstart-go)
- [Java SDK 快速入门](https://www.cobo.com/developers/v2_cn/developer-tools/quickstart-java)

4. **设置 Callback 和 Webhook（可选）**

为了增强安全性，您应该设置一个 Callback Endpoint 来二次确认提现请求。当您通过 WaaS 2.0 API 发起提现时，该 Endpoint 将接收交易详情，并且必须确认这些详情后才能继续进行交易。要进行设置，请参考 [Webhook 和 Callback 指南](https://www.cobo.com/developers/v2_cn/guides/webhooks-callbacks/introduction)。

5. **发起提币交易**

如果您在开发环境中配置了交易风控，钱包中配置了主控组，或者配置了 Callback Endpoint 等，这些设置会对提币流程产生影响。例如，您可能需要额外审批步骤才能完成交易。

在提币前，请确保钱包中有足够主链币用于支付链上手续费，或者已启用 [Fee Station](/cn/portal/fee-station/introduction) 代付功能。

以下为 JavaScript SDK 示例代码，更多详情可参阅[发起转账 API 文档](https://www.cobo.com/developers/v2/api-references/transactions/transfer-token)

```javascript
const CoboWaas2 = require("@cobo/cobo-waas2");
// 初始化 API 客户端
const apiClient = CoboWaas2.ApiClient.instance;
// 设置运行环境（开发环境：Env.DEV，生产环境：Env.PROD）
apiClient.setEnv(CoboWaas2.Env.DEV);
// 配置 API Secret，请将 <YOUR_PRIVATE_KEY> 替换为您的 API Secret
apiClient.setPrivateKey("<YOUR_PRIVATE_KEY>");
// 创建 TransactionsApi 实例
const apiInstance = new CoboWaas2.TransactionsApi();
// 构造提币交易参数
const opts = {
  TransferParams: CoboWaas2.TransferParams.constructFromObject({
    request_id: "f47ac10b-58cc-4372-a567-0e02b2c3d479", // 请求 ID，需唯一
    source: {
      source_type: "Asset", // 资产钱包
      wallet_id: "f47ac10b-58cc-4372-a567-0e02b2c3d479", // 钱包 ID
    },
    token_id: "ETH_USDT", // 代币 ID
    destination: {
      destination_type: "Address",
      account_output: {
        address: "19AR6YWEGbSoY8UT9Ksy9WrmrZPD5sL4Ku", // 收款地址
        amount: "1.5", // 转账代币数量
      },
    },
  }),
};
// 发起提币交易请求
apiInstance.createTransferTransaction(opts).then(
  (data) => {
    console.log("API called successfully. Returned data: " + data);
  },
  (error) => {
    console.error(error);
  },
);

```

请求成功返回示例：

```javascript
API called successfully. Returned data: {
  "request_id": "f47ac10b-58cc-4372-a567-0e02b2c3d471",
  "transaction_id": "c8964e6b-32d7-4da3-8407-6c4a4a8c92d7",
  "status": "Submitted"
}
```

## 查看交易状态

发起交易后，您可以通过以下方式查看交易状态：

- **Cobo Portal 网页端**：  
  登录 Cobo Portal，进入**钱包** > **交易记录**，在列表中找到对应交易即可查看其状态。

- **WaaS 2.0 API**：  
  调用[获取交易详情](https://www.cobo.com/developers/v2/api-references/transactions/get-transaction-information) 接口查询交易详情。
  调用[获取交易列表](https://www.cobo.com/developers/v2/api-references/transactions/list-all-transactions) 接口查询交易列表。

至此，您已完成 MPC 钱包在开发环境中的主要功能快速体验，包括账户设置、充币与提币等操作。如果您想要在生产环境中正式部署和使用 MPC 钱包，请参考[正式使用指南](/cn/portal/quick-start-guide-mpc)。

<Tip>欢迎[分享您的反馈](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI?referrername=manuals)以帮助我们改进文档！</Tip>